{
  rules: [
    {
      files: [".pre-commit-config.yaml"],
      JMESPathsMatch: [
        // Python projects must use autoflake to remove unused imports
        ["length(repos[?repo=='https://github.com/myint/autoflake'])", 1],
        [
          // the 'rev' key must match the vX.Y(.Z)? regex pattern
          "regex_match('^v\\d+\\.\\d+(\\.\\d+)?$', repos[?repo=='https://github.com/myint/autoflake'] | [0].rev)",
          true,
        ],
        [
          "repos[?repo=='https://github.com/myint/autoflake'] | [0].hooks[0].id",
          "autoflake",
        ],

        // the arguments passed to the hook must contain the next ones:
        [
          "op(repos[?repo=='https://github.com/myint/autoflake'] | [0].hooks[0].args, '>=', ['--in-place', '--remove-all-unused-imports', '--remove-unused-variables', '--remove-duplicate-keys', '--ignore-init-module-imports'])",
          true,
        ],
      ],
    },
  ],
}
