{
  rules: [
    {
      files: ["pyproject.toml"],
      JMESPathsMatch: [
        // isort
        ["tool.isort.line_length", 79],

        // flakeheaven
        ['tool.flakeheaven."max-line-length"', 80],
      ],
    },
    {
      files: ["pyproject.toml"],
      ifJMESPathsMatch: {
        // if pyproject.toml is specifying double quotes for flake8,
        // the formatting must be black
        "pyproject.toml": [['tool.flakeheaven."inline-quotes"', "double"]],
      },
      JMESPathsMatch: [
        ["contains(keys(@), 'tool')", true],
        ["contains(keys(tool), 'black')", true],
        ["contains(keys(tool.black), 'line-length')", true],
        ['tool.black."line-length"', 80],
      ],
    },
    {
      // TODO: remove this at version 6 of styles
      files: ["pyproject.toml"],
      hint: "The style 'python/line-length-80.json5' has become default in v5 of mondeja/project-config-styles",
      JMESPathsMatch: [
        [
          "length(tool.\"project-config\".style[?ends_with(@, 'python/line-length-80.json5')])",
          0,
        ],
      ],
    },
  ],
}
