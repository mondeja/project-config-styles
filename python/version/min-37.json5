/**
 * Version 3.7 as the minimum Python version for a project.
 **/
{
  extends: ["base.json5"],
  rules: [
    {
      files: [".pre-commit-config.yaml"],
      JMESPathsMatch: [
        // pyupgrade pre-commit hook must use correct argument
        [
          "contains(repos[?repo=='https://github.com/asottile/pyupgrade'] | [0].hooks[0].args, '--py37-plus')",
          true,
        ],
      ],
    },
    {
      files: ["pyproject.toml"],
      JMESPathsMatch: [
        // strict minimum Python version required to install in pyproject.toml
        ["tool.poetry.dependencies.python", "^3.7"],

        /**
         * isort
         *
         * Configure the Python version that isort targets.
         **/
        ["tool.isort.py_version", 37],
        // https://docs.python.org/3/whatsnew/3.8.html#new-modules
        [
          "contains(tool.isort.extra_standard_library, 'importlib.metadata')",
          true,
        ],
        // https://docs.python.org/3/whatsnew/3.9.html#new-modules
        ["contains(tool.isort.extra_standard_library, 'zoneinfo')", true],
        ["contains(tool.isort.extra_standard_library, 'graphlib')", true],
        // 3.10 does not add new modules
        // https://docs.python.org/3.11/whatsnew/3.11.html#new-modules
        ["contains(tool.isort.extra_standard_library, 'tomllib')", true],
        ["contains(tool.isort.extra_standard_library, 'wsgiref.types')", true],
      ],
    },
  ],
}
